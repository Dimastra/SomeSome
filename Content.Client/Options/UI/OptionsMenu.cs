using System;
using System.Runtime.CompilerServices;
using CompiledRobustXaml;
using Content.Client.Administration.Managers;
using Content.Client.Options.UI.Tabs;
using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface;
using Robust.Client.UserInterface.Controls;
using Robust.Client.UserInterface.CustomControls;
using Robust.Shared.IoC;
using Robust.Shared.Localization;
using Robust.Shared.Maths;
using Robust.Shared.Timing;

namespace Content.Client.Options.UI
{
	// Token: 0x020001F8 RID: 504
	[GenerateTypedNameReferences]
	public sealed class OptionsMenu : DefaultWindow
	{
		// Token: 0x06000CE0 RID: 3296 RVA: 0x0004B740 File Offset: 0x00049940
		public OptionsMenu()
		{
			OptionsMenu.!XamlIlPopulateTrampoline(this);
			IoCManager.InjectDependencies<OptionsMenu>(this);
			this.Tabs.SetTabTitle(0, Loc.GetString("ui-options-tab-graphics"));
			this.Tabs.SetTabTitle(1, Loc.GetString("ui-options-tab-controls"));
			this.Tabs.SetTabTitle(2, Loc.GetString("ui-options-tab-audio"));
			this.Tabs.SetTabTitle(3, Loc.GetString("ui-options-tab-network"));
			this.Tabs.SetTabTitle(4, "Админ");
		}

		// Token: 0x06000CE1 RID: 3297 RVA: 0x0004B7C9 File Offset: 0x000499C9
		protected override void FrameUpdate(FrameEventArgs args)
		{
			this.Tabs.SetTabVisible(4, this._clientAdminManager.IsActive());
			base.FrameUpdate(args);
		}

		// Token: 0x1700029B RID: 667
		// (get) Token: 0x06000CE2 RID: 3298 RVA: 0x0004B7E9 File Offset: 0x000499E9
		public TabContainer Tabs
		{
			get
			{
				return base.FindControl<TabContainer>("Tabs");
			}
		}

		// Token: 0x06000CE3 RID: 3299 RVA: 0x0004B7F8 File Offset: 0x000499F8
		static void xaml(IServiceProvider A_0, DefaultWindow A_1)
		{
			XamlIlContext.Context<DefaultWindow> context = new XamlIlContext.Context<DefaultWindow>(A_0, null, "resm:Content.Client.Options.UI.OptionsMenu.xaml?assembly=Content.Client");
			context.RootObject = A_1;
			context.IntermediateRoot = A_1;
			A_1.Title = (string)new LocExtension("ui-options-title").ProvideValue();
			A_1.MinSize = new Vector2(800f, 450f);
			TabContainer tabContainer = new TabContainer();
			tabContainer.Name = "Tabs";
			Control control = tabContainer;
			context.RobustNameScope.Register("Tabs", control);
			tabContainer.Access = new AccessLevel?(0);
			control = new GraphicsTab();
			tabContainer.XamlChildren.Add(control);
			control = new KeyRebindTab();
			tabContainer.XamlChildren.Add(control);
			control = new AudioTab();
			tabContainer.XamlChildren.Add(control);
			control = new NetworkTab();
			tabContainer.XamlChildren.Add(control);
			control = new AdminSettingsTab();
			tabContainer.XamlChildren.Add(control);
			control = tabContainer;
			A_1.XamlChildren.Add(control);
			if ((control = (A_1 as Control)) != null)
			{
				context.RobustNameScope.Absorb(control.NameScope);
				control.NameScope = context.RobustNameScope;
			}
			context.RobustNameScope.Complete();
		}

		// Token: 0x06000CE4 RID: 3300 RVA: 0x0004B972 File Offset: 0x00049B72
		private static void !XamlIlPopulateTrampoline(OptionsMenu A_0)
		{
			OptionsMenu.Populate:Content.Client.Options.UI.OptionsMenu.xaml(null, A_0);
		}

		// Token: 0x04000698 RID: 1688
		[Nullable(1)]
		[Dependency]
		private readonly IClientAdminManager _clientAdminManager;
	}
}
