using System;
using System.Runtime.CompilerServices;
using CompiledRobustXaml;
using Content.Client.Administration.UI.CustomControls;
using Content.Shared.CCVar;
using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface;
using Robust.Client.UserInterface.Controls;
using Robust.Shared.Configuration;
using Robust.Shared.IoC;
using Robust.Shared.Maths;

namespace Content.Client.Administration.UI.Tabs
{
	// Token: 0x02000495 RID: 1173
	[GenerateTypedNameReferences]
	public sealed class ServerTab : Control
	{
		// Token: 0x06001CCC RID: 7372 RVA: 0x000A76C4 File Offset: 0x000A58C4
		public ServerTab()
		{
			ServerTab.!XamlIlPopulateTrampoline(this);
			IoCManager.InjectDependencies<ServerTab>(this);
			this._config.OnValueChanged<bool>(CCVars.OocEnabled, new Action<bool>(this.OocEnabledChanged), true);
			this._config.OnValueChanged<bool>(CCVars.LoocEnabled, new Action<bool>(this.LoocEnabledChanged), true);
			this._config.OnValueChanged<bool>(CCVars.PanicBunkerEnabled, new Action<bool>(this.BunkerEnabledChanged), true);
		}

		// Token: 0x06001CCD RID: 7373 RVA: 0x000A773B File Offset: 0x000A593B
		private void OocEnabledChanged(bool value)
		{
			this.SetOocButton.Pressed = value;
		}

		// Token: 0x06001CCE RID: 7374 RVA: 0x000A7749 File Offset: 0x000A5949
		private void LoocEnabledChanged(bool value)
		{
			this.SetLoocButton.Pressed = value;
		}

		// Token: 0x06001CCF RID: 7375 RVA: 0x000A7757 File Offset: 0x000A5957
		private void BunkerEnabledChanged(bool value)
		{
			this.SetPanicbunkerButton.Pressed = value;
		}

		// Token: 0x06001CD0 RID: 7376 RVA: 0x000A7768 File Offset: 0x000A5968
		protected override void Dispose(bool disposing)
		{
			base.Dispose(disposing);
			if (disposing)
			{
				this._config.UnsubValueChanged<bool>(CCVars.OocEnabled, new Action<bool>(this.OocEnabledChanged));
				this._config.UnsubValueChanged<bool>(CCVars.LoocEnabled, new Action<bool>(this.LoocEnabledChanged));
				this._config.UnsubValueChanged<bool>(CCVars.PanicBunkerEnabled, new Action<bool>(this.BunkerEnabledChanged));
			}
		}

		// Token: 0x170005F5 RID: 1525
		// (get) Token: 0x06001CD1 RID: 7377 RVA: 0x000A77D3 File Offset: 0x000A59D3
		private CommandButton SetOocButton
		{
			get
			{
				return base.FindControl<CommandButton>("SetOocButton");
			}
		}

		// Token: 0x170005F6 RID: 1526
		// (get) Token: 0x06001CD2 RID: 7378 RVA: 0x000A77E0 File Offset: 0x000A59E0
		private CommandButton SetLoocButton
		{
			get
			{
				return base.FindControl<CommandButton>("SetLoocButton");
			}
		}

		// Token: 0x170005F7 RID: 1527
		// (get) Token: 0x06001CD3 RID: 7379 RVA: 0x000A77ED File Offset: 0x000A59ED
		private CommandButton SetPanicbunkerButton
		{
			get
			{
				return base.FindControl<CommandButton>("SetPanicbunkerButton");
			}
		}

		// Token: 0x170005F8 RID: 1528
		// (get) Token: 0x06001CD4 RID: 7380 RVA: 0x000A77FA File Offset: 0x000A59FA
		private CommandButton SetStalinBunker
		{
			get
			{
				return base.FindControl<CommandButton>("SetStalinBunker");
			}
		}

		// Token: 0x06001CD5 RID: 7381 RVA: 0x000A7808 File Offset: 0x000A5A08
		static void xaml(IServiceProvider A_0, Control A_1)
		{
			XamlIlContext.Context<Control> context = new XamlIlContext.Context<Control>(A_0, null, "resm:Content.Client.Administration.UI.Tabs.ServerTab.xaml?assembly=Content.Client");
			context.RootObject = A_1;
			context.IntermediateRoot = A_1;
			A_1.Margin = new Thickness(4f, 4f, 4f, 4f);
			A_1.MinSize = new Vector2(50f, 50f);
			GridContainer gridContainer = new GridContainer();
			gridContainer.Columns = 4;
			Control control = new CommandButton
			{
				Command = "shutdown",
				Text = (string)new LocExtension("server-shutdown").ProvideValue()
			};
			gridContainer.XamlChildren.Add(control);
			CommandButton commandButton = new CommandButton();
			commandButton.Name = "SetOocButton";
			control = commandButton;
			context.RobustNameScope.Register("SetOocButton", control);
			commandButton.Command = "setooc";
			commandButton.Text = (string)new LocExtension("server-ooc-toggle").ProvideValue();
			commandButton.ToggleMode = true;
			control = commandButton;
			gridContainer.XamlChildren.Add(control);
			CommandButton commandButton2 = new CommandButton();
			commandButton2.Name = "SetLoocButton";
			control = commandButton2;
			context.RobustNameScope.Register("SetLoocButton", control);
			commandButton2.Command = "setlooc";
			commandButton2.Text = (string)new LocExtension("server-looc-toggle").ProvideValue();
			commandButton2.ToggleMode = true;
			control = commandButton2;
			gridContainer.XamlChildren.Add(control);
			CommandButton commandButton3 = new CommandButton();
			commandButton3.Name = "SetPanicbunkerButton";
			control = commandButton3;
			context.RobustNameScope.Register("SetPanicbunkerButton", control);
			commandButton3.Command = "panicbunker";
			commandButton3.Text = (string)new LocExtension("server-panicbunker-toggle").ProvideValue();
			commandButton3.ToggleMode = true;
			control = commandButton3;
			gridContainer.XamlChildren.Add(control);
			CommandButton commandButton4 = new CommandButton();
			commandButton4.Name = "SetStalinBunker";
			control = commandButton4;
			context.RobustNameScope.Register("SetStalinBunker", control);
			commandButton4.Command = "stalinbunker";
			commandButton4.Text = (string)new LocExtension("server-stalin-toggle").ProvideValue();
			commandButton4.ToggleMode = true;
			control = commandButton4;
			gridContainer.XamlChildren.Add(control);
			control = gridContainer;
			A_1.XamlChildren.Add(control);
			if ((control = (A_1 as Control)) != null)
			{
				context.RobustNameScope.Absorb(control.NameScope);
				control.NameScope = context.RobustNameScope;
			}
			context.RobustNameScope.Complete();
		}

		// Token: 0x06001CD6 RID: 7382 RVA: 0x000A7ADA File Offset: 0x000A5CDA
		private static void !XamlIlPopulateTrampoline(ServerTab A_0)
		{
			ServerTab.Populate:Content.Client.Administration.UI.Tabs.ServerTab.xaml(null, A_0);
		}

		// Token: 0x04000E71 RID: 3697
		[Nullable(1)]
		[Dependency]
		private readonly IConfigurationManager _config;
	}
}
