using System;
using System.Runtime.CompilerServices;
using CompiledRobustXaml;
using Content.Shared.Targeting;
using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface;
using Robust.Client.UserInterface.Controls;

namespace Content.Client.Targeting.UI
{
	// Token: 0x020000FA RID: 250
	[GenerateTypedNameReferences]
	public sealed class TargetingDoll : BoxContainer
	{
		// Token: 0x14000034 RID: 52
		// (add) Token: 0x060006FF RID: 1791 RVA: 0x00024D7C File Offset: 0x00022F7C
		// (remove) Token: 0x06000700 RID: 1792 RVA: 0x00024DB4 File Offset: 0x00022FB4
		[Nullable(2)]
		[method: NullableContext(2)]
		[Nullable(2)]
		public event Action<TargetingZone> OnZoneChanged;

		// Token: 0x06000701 RID: 1793 RVA: 0x00024DE9 File Offset: 0x00022FE9
		public TargetingDoll()
		{
			TargetingDoll.!XamlIlPopulateTrampoline(this);
		}

		// Token: 0x17000137 RID: 311
		// (get) Token: 0x06000702 RID: 1794 RVA: 0x00024DF7 File Offset: 0x00022FF7
		// (set) Token: 0x06000703 RID: 1795 RVA: 0x00024DFF File Offset: 0x00022FFF
		public TargetingZone ActiveZone
		{
			get
			{
				return this._activeZone;
			}
			set
			{
				if (this._activeZone == value)
				{
					return;
				}
				this._activeZone = value;
				Action<TargetingZone> onZoneChanged = this.OnZoneChanged;
				if (onZoneChanged != null)
				{
					onZoneChanged(value);
				}
				this.UpdateButtons();
			}
		}

		// Token: 0x06000704 RID: 1796 RVA: 0x00024E2A File Offset: 0x0002302A
		private void UpdateButtons()
		{
			this.ButtonHigh.Pressed = (this._activeZone == TargetingZone.High);
			this.ButtonMedium.Pressed = (this._activeZone == TargetingZone.Middle);
			this.ButtonLow.Pressed = (this._activeZone == TargetingZone.Low);
		}

		// Token: 0x17000138 RID: 312
		// (get) Token: 0x06000705 RID: 1797 RVA: 0x00024E68 File Offset: 0x00023068
		private TextureButton ButtonHigh
		{
			get
			{
				return base.FindControl<TextureButton>("ButtonHigh");
			}
		}

		// Token: 0x17000139 RID: 313
		// (get) Token: 0x06000706 RID: 1798 RVA: 0x00024E75 File Offset: 0x00023075
		private TextureButton ButtonMedium
		{
			get
			{
				return base.FindControl<TextureButton>("ButtonMedium");
			}
		}

		// Token: 0x1700013A RID: 314
		// (get) Token: 0x06000707 RID: 1799 RVA: 0x00024E82 File Offset: 0x00023082
		private TextureButton ButtonLow
		{
			get
			{
				return base.FindControl<TextureButton>("ButtonLow");
			}
		}

		// Token: 0x06000709 RID: 1801 RVA: 0x00024E9C File Offset: 0x0002309C
		static void xaml(IServiceProvider A_0, TargetingDoll A_1)
		{
			XamlIlContext.Context<TargetingDoll> context = new XamlIlContext.Context<TargetingDoll>(A_0, null, "resm:Content.Client.Targeting.UI.TargetingDoll.xaml?assembly=Content.Client");
			context.RootObject = A_1;
			context.IntermediateRoot = A_1;
			A_1.Orientation = 1;
			TextureButton textureButton = new TextureButton();
			textureButton.Name = "ButtonHigh";
			Control control = textureButton;
			context.RobustNameScope.Register("ButtonHigh", control);
			textureButton.TexturePath = "/Textures/Interface/target-doll-high.svg.96dpi.png";
			textureButton.HorizontalAlignment = 2;
			textureButton.StyleIdentifier = "target-doll-zone";
			control = textureButton;
			A_1.XamlChildren.Add(control);
			TextureButton textureButton2 = new TextureButton();
			textureButton2.Name = "ButtonMedium";
			control = textureButton2;
			context.RobustNameScope.Register("ButtonMedium", control);
			textureButton2.TexturePath = "/Textures/Interface/target-doll-middle.svg.96dpi.png";
			textureButton2.HorizontalAlignment = 2;
			textureButton2.StyleIdentifier = "target-doll-zone";
			control = textureButton2;
			A_1.XamlChildren.Add(control);
			TextureButton textureButton3 = new TextureButton();
			textureButton3.Name = "ButtonLow";
			control = textureButton3;
			context.RobustNameScope.Register("ButtonLow", control);
			textureButton3.TexturePath = "/Textures/Interface/target-doll-low.svg.96dpi.png";
			textureButton3.HorizontalAlignment = 2;
			textureButton3.StyleIdentifier = "target-doll-zone";
			control = textureButton3;
			A_1.XamlChildren.Add(control);
			if ((control = (A_1 as Control)) != null)
			{
				context.RobustNameScope.Absorb(control.NameScope);
				control.NameScope = context.RobustNameScope;
			}
			context.RobustNameScope.Complete();
		}

		// Token: 0x0600070A RID: 1802 RVA: 0x0002503F File Offset: 0x0002323F
		private static void !XamlIlPopulateTrampoline(TargetingDoll A_0)
		{
			TargetingDoll.Populate:Content.Client.Targeting.UI.TargetingDoll.xaml(null, A_0);
		}

		// Token: 0x04000339 RID: 825
		[Nullable(1)]
		public static readonly string StyleClassTargetDollZone = "target-doll-zone";

		// Token: 0x0400033A RID: 826
		private TargetingZone _activeZone;
	}
}
