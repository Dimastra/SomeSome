using System;
using System.Runtime.CompilerServices;
using CompiledRobustXaml;
using Content.Shared.Research.Prototypes;
using Robust.Client.AutoGenerated;
using Robust.Client.Graphics;
using Robust.Client.UserInterface;
using Robust.Client.UserInterface.Controls;
using Robust.Shared.Maths;

namespace Content.Client.Lathe.UI
{
	// Token: 0x02000283 RID: 643
	[GenerateTypedNameReferences]
	public sealed class RecipeControl : Control
	{
		// Token: 0x06001077 RID: 4215 RVA: 0x00062770 File Offset: 0x00060970
		[NullableContext(1)]
		public RecipeControl(LatheRecipePrototype recipe, string tooltip, bool canProduce, [Nullable(2)] Texture texture = null)
		{
			RecipeControl <>4__this = this;
			RecipeControl.!XamlIlPopulateTrampoline(this);
			this.RecipeName.Text = recipe.Name;
			this.RecipeTexture.Texture = texture;
			this.Button.ToolTip = tooltip;
			this.Button.Disabled = !canProduce;
			this.Button.OnPressed += delegate(BaseButton.ButtonEventArgs _)
			{
				Action<string> onButtonPressed = <>4__this.OnButtonPressed;
				if (onButtonPressed == null)
				{
					return;
				}
				onButtonPressed(recipe.ID);
			};
		}

		// Token: 0x1700038D RID: 909
		// (get) Token: 0x06001078 RID: 4216 RVA: 0x000627F2 File Offset: 0x000609F2
		private Button Button
		{
			get
			{
				return base.FindControl<Button>("Button");
			}
		}

		// Token: 0x1700038E RID: 910
		// (get) Token: 0x06001079 RID: 4217 RVA: 0x000627FF File Offset: 0x000609FF
		private TextureRect RecipeTexture
		{
			get
			{
				return base.FindControl<TextureRect>("RecipeTexture");
			}
		}

		// Token: 0x1700038F RID: 911
		// (get) Token: 0x0600107A RID: 4218 RVA: 0x0006280C File Offset: 0x00060A0C
		private Label RecipeName
		{
			get
			{
				return base.FindControl<Label>("RecipeName");
			}
		}

		// Token: 0x0600107B RID: 4219 RVA: 0x0006281C File Offset: 0x00060A1C
		static void xaml(IServiceProvider A_0, Control A_1)
		{
			XamlIlContext.Context<Control> context = new XamlIlContext.Context<Control>(A_0, null, "resm:Content.Client.Lathe.UI.RecipeControl.xaml?assembly=Content.Client");
			context.RootObject = A_1;
			context.IntermediateRoot = A_1;
			Button button = new Button();
			button.Name = "Button";
			Control control = button;
			context.RobustNameScope.Register("Button", control);
			button.HorizontalExpand = true;
			button.TooltipDelay = new float?(0.5f);
			BoxContainer boxContainer = new BoxContainer();
			boxContainer.Orientation = 0;
			TextureRect textureRect = new TextureRect();
			textureRect.Name = "RecipeTexture";
			control = textureRect;
			context.RobustNameScope.Register("RecipeTexture", control);
			textureRect.Margin = new Thickness(0f, 0f, 0f, 0f);
			textureRect.MinSize = new Vector2(32f, 32f);
			textureRect.Stretch = 7;
			control = textureRect;
			boxContainer.XamlChildren.Add(control);
			Label label = new Label();
			label.Name = "RecipeName";
			control = label;
			context.RobustNameScope.Register("RecipeName", control);
			label.HorizontalExpand = true;
			control = label;
			boxContainer.XamlChildren.Add(control);
			control = boxContainer;
			button.XamlChildren.Add(control);
			control = button;
			A_1.XamlChildren.Add(control);
			if ((control = (A_1 as Control)) != null)
			{
				context.RobustNameScope.Absorb(control.NameScope);
				control.NameScope = context.RobustNameScope;
			}
			context.RobustNameScope.Complete();
		}

		// Token: 0x0600107C RID: 4220 RVA: 0x000629D9 File Offset: 0x00060BD9
		private static void !XamlIlPopulateTrampoline(RecipeControl A_0)
		{
			RecipeControl.Populate:Content.Client.Lathe.UI.RecipeControl.xaml(null, A_0);
		}

		// Token: 0x04000819 RID: 2073
		[Nullable(new byte[]
		{
			2,
			1
		})]
		public Action<string> OnButtonPressed;
	}
}
